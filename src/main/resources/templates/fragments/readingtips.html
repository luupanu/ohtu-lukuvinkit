<div th:fragment="readingtips">

    <div id="readingTipsList" class="readingtips">
        <article th:id="${listingUnit.readingTip.id}" th:class="${listingUnit.readingTip.read} ? 'tip-read' : 'tip-unread'" th:each="listingUnit : ${list}" draggable="true" ondragstart="onDrag(event)" ondragover="allowDrop(event)" ondrop="swapPriorities(event)">

            <div class="readingtips-read">
                <label for="read" th:text="${listingUnit.readingTip.read} ? 'Mark as unread' : 'Mark as read' "></label>
                <input type="checkbox" name="read" onclick="toggleRead(this)" />
            </div>

            <div class="readingtips-title">
                <h3>
                    <span class="tip-type" th:text="${listingUnit.readingTip.type}"></span>
                    <span class="title" th:if="${listingUnit.readingTip.url == ''}" th:text="${listingUnit.readingTip.title}"></span>
                    <a class="title" th:if="${listingUnit.readingTip.url != ''}" th:href="@{__${listingUnit.readingTip.url}__}"
                        th:text="${listingUnit.readingTip.title}" />
                </h3>
                <span class="read-tag" th:if="${listingUnit.readingTip.read}">READ</span>
            </div>

            <div class="readingtips-description">
                <div class="readingtips-author" th:if="${listingUnit.readingTip.author != ''}">
                    <span>Author:</span>
                    <p th:text="${listingUnit.readingTip.author}" />
                </div>
                <div class="readingtips-isbn" th:if="${listingUnit.readingTip.isbn != ''}">
                    <span>ISBN:</span>
                    <p th:text="${listingUnit.readingTip.isbn}" />
                </div>
                <p th:text="${listingUnit.readingTip.description}" />
            </div>

            <div class="readingtips-tags">
                <span class="tag" th:each="tag : ${listingUnit.tags}" th:text="${tag.tagDescription}"></span>
            </div>

            <div class="readingtips-comments">
                <a href="#" onclick="toggleComments(this)" th:text="${#lists.size(listingUnit.comments)} + ' comment(s)'"></a>

                <div class="commentarea">
                    <li class="comment" th:each="comment : ${listingUnit.comments}" th:text="${comment.commentDescription}"></li>

                    <div class="newcomment">
                        <form>
                            <label for="comment">Add a new comment:</label>
                            <input type="text" name="commentDescription" placeholder="Type your new comment here..." required="true" />
                            <input type="button" class="submitbutton" onclick="newComment(this)" value="Submit" />
                            <input type="submit" style="display:none" />
                        </form>
                    </div>
                </div>
            </div>
        </article>

        <div th:replace="/fragments/readingtip-actions :: readingtip-actions"></div>
    </div>

</div>